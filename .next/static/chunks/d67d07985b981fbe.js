(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56426,e=>{"use strict";let s=(0,e.i(88715).createClient)("https://gmdjktwstzuhlbnkfsmh.supabase.co","sb_publishable_4ZAWHxhYMwyCmz6K2OTnTw_gnWbcDXN");e.s(["supabase",0,s])},70679,e=>{"use strict";var s=e.i(43476),i=e.i(37902),t=e.i(71645),a=e.i(18566),l=e.i(56426);function d(){let[e,d]=(0,t.useState)(null),[c,n]=(0,t.useState)(null),[r,o]=(0,t.useState)(0),[f,x]=(0,t.useState)({}),[p,m]=(0,t.useState)(!0),b=(0,a.useRouter)();(0,t.useEffect)(()=>{!async function(){m(!0);let{data:{user:e}}=await l.supabase.auth.getUser();if(!e)return b.push("/login");let{data:s}=await l.supabase.from("profiles").select("*").eq("id",e.id).single();s&&d(s);let{data:i}=await l.supabase.from("diets").select("*").eq("client_id",e.id).eq("is_active",!0).maybeSingle();i&&i.content&&n(i.content);let{data:t}=await l.supabase.from("diet_progress").select("*").eq("client_id",e.id);if(t){let e={};t.forEach(s=>{e[s.day_number-1]={completed:s.is_completed,note:s.note}}),x(e)}m(!1)}()},[b]);let h=async()=>{let s;if(!e)return;m(!0);let i=f[r]||{completed:!1,note:""},{data:t}=await l.supabase.from("diet_progress").select("id").eq("client_id",e.id).eq("day_number",r+1).maybeSingle();if(t){let{error:e}=await l.supabase.from("diet_progress").update({is_completed:i.completed,note:i.note}).eq("id",t.id);s=e}else{let{error:t}=await l.supabase.from("diet_progress").insert({client_id:e.id,day_number:r+1,is_completed:i.completed,note:i.note});s=t}s?alert("Değerlendirme gönderilemedi: "+s.message):alert("Değerlendirmeniz başarıyla kaydedildi! Diyetisyeniniz bunu görebilecektir."),m(!1)};return p||!e?(0,s.jsx)("div",{children:"Yükleniyor..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},className:"jsx-8fc83bef832defc8 menu-page-wrapper",children:[(0,s.jsx)(i.default,{id:"8fc83bef832defc8",children:".menu-page-wrapper.jsx-8fc83bef832defc8{padding:50px}@media (width<=1024px){.menu-page-wrapper.jsx-8fc83bef832defc8{padding:20px}}"}),(0,s.jsxs)("div",{style:{marginBottom:"40px"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("h1",{style:{fontSize:"32px",fontWeight:700,color:"#333"},className:"jsx-8fc83bef832defc8",children:"Günlük Diyet Listem"}),(0,s.jsx)("p",{style:{color:"#666"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeniniz tarafından size özel hazırlanan beslenme programı."})]}),c&&c.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"25px",overflowX:"auto",paddingBottom:"10px"},className:"jsx-8fc83bef832defc8",children:c.map((e,i)=>(0,s.jsxs)("button",{onClick:()=>o(i),style:{padding:"12px 25px",background:r===i?"#79a33d":"white",color:r===i?"white":"#333",border:`1px solid ${r===i?"#79a33d":"#e0e0e0"}`,borderRadius:"10px",fontWeight:700,cursor:"pointer",transition:"all 0.2s"},className:"jsx-8fc83bef832defc8",children:[e.day||i+1,". Gün"]},i))}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"25px"},className:"jsx-8fc83bef832defc8",children:[{key:"breakfast",label:"Kahvaltı"},{key:"lunch",label:"Öğle Yemeği"},{key:"snacks",label:"Ara Öğünler"},{key:"dinner",label:"Akşam Yemeği"}].map(e=>(0,s.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:700,color:"#3d5a2d",marginBottom:"15px"},className:"jsx-8fc83bef832defc8",children:e.label}),c[r]&&c[r][e.key]&&c[r][e.key].length>0?(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("thead",{className:"jsx-8fc83bef832defc8",children:(0,s.jsxs)("tr",{style:{textAlign:"left",fontSize:"12px",color:"#888",borderBottom:"1px solid #f0f0f0"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("th",{style:{padding:"10px"},className:"jsx-8fc83bef832defc8",children:"Besin"}),(0,s.jsx)("th",{style:{padding:"10px"},className:"jsx-8fc83bef832defc8",children:"Porsiyon"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"right"},className:"jsx-8fc83bef832defc8",children:"Kalori"})]})}),(0,s.jsx)("tbody",{className:"jsx-8fc83bef832defc8",children:c[r][e.key].map((e,i)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("td",{style:{padding:"12px 10px",fontWeight:600,color:"#333"},className:"jsx-8fc83bef832defc8",children:e.food}),(0,s.jsx)("td",{style:{padding:"12px 10px",color:"#666"},className:"jsx-8fc83bef832defc8",children:e.portion}),(0,s.jsxs)("td",{style:{padding:"12px 10px",color:"#79a33d",fontWeight:700,textAlign:"right"},className:"jsx-8fc83bef832defc8",children:[e.cal," kcal"]})]},i))})]}):(0,s.jsx)("p",{style:{color:"#999",fontSize:"14px"},className:"jsx-8fc83bef832defc8",children:"Bu öğün için program belirtilmemiş."})]},e.key))}),(0,s.jsxs)("div",{style:{marginTop:"40px",background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("h3",{style:{fontSize:"20px",fontWeight:800,color:"#2c3e50",marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:"Gün Sonu Değerlendirmesi"}),(0,s.jsx)("p",{style:{color:"#7f8c8d",fontSize:"14px",marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeninize bu günü nasıl geçirdiğinizi bildirin."}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("input",{type:"checkbox",id:"completedCheck",checked:f[r]?.completed||!1,onChange:e=>{let s={...f};s[r]||(s[r]={completed:!1,note:""}),s[r].completed=e.target.checked,x(s)},style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#79a33d"},className:"jsx-8fc83bef832defc8"}),(0,s.jsx)("label",{htmlFor:"completedCheck",style:{fontWeight:600,color:"#333",cursor:"pointer",fontSize:"15px"},className:"jsx-8fc83bef832defc8",children:"Bugünkü listemi eksiksiz uyguladım ✅"})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("label",{style:{display:"block",fontWeight:600,color:"#333",marginBottom:"10px",fontSize:"15px"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeninize bir not bırakın (İsteğe bağlı)"}),(0,s.jsx)("textarea",{value:f[r]?.note||"",onChange:e=>{let s={...f};s[r]||(s[r]={completed:!1,note:""}),s[r].note=e.target.value,x(s)},placeholder:"Örn: Akşam yemeğinde doyduğum için salatayı yarım bıraktım...",style:{width:"100%",padding:"15px",borderRadius:"10px",border:"1px solid #ddd",minHeight:"100px",fontFamily:"inherit",fontSize:"14px",resize:"vertical"},className:"jsx-8fc83bef832defc8"})]}),(0,s.jsx)("button",{onClick:h,style:{background:"#79a33d",color:"white",border:"none",padding:"15px 30px",borderRadius:"10px",fontWeight:700,fontSize:"15px",cursor:"pointer",width:"100%",transition:"background 0.3s"},className:"jsx-8fc83bef832defc8",children:"Değerlendirmeyi Kaydet"})]})]}):(0,s.jsxs)("div",{style:{background:"white",padding:"100px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,s.jsx)("div",{style:{fontSize:"50px",marginBottom:"20px"},className:"jsx-8fc83bef832defc8"}),(0,s.jsx)("h2",{style:{color:"#3d5a2d"},className:"jsx-8fc83bef832defc8",children:"Henüz Diyet Listeniz Hazır Değil"}),(0,s.jsx)("p",{style:{color:"#888",maxWidth:"400px",margin:"10px auto"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeniniz listenizi tamamladığında burada anlık olarak görebileceksiniz."})]})]})})}e.s(["default",()=>d])}]);