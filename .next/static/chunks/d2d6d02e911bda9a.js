(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66156,e=>{"use strict";var t=e.i(43476),n=e.i(71645),i=e.i(56426);function r(){let[e,r]=(0,n.useState)([]),[d,c]=(0,n.useState)(!1),[p,x]=(0,n.useState)(null),[u,h]=(0,n.useState)({name:"",unit:"100g",cal:"",protein:"",carb:"",fat:""}),[g,b]=(0,n.useState)(""),[f,y]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m()},[]);let m=async()=>{let{data:e,error:t}=await i.supabase.from("food_library").select("*").order("name",{ascending:!0});t?console.error("Besinler çekilemedi:",t):r(e||[])},j=async()=>{if(!u.name)return alert("Lütfen besin adı girin.");y(!0);let e={name:u.name,unit:u.unit,cal:Number(u.cal),protein:Number(u.protein),carb:Number(u.carb),fat:Number(u.fat)};if(p){let{error:t}=await i.supabase.from("food_library").update(e).eq("id",p);t&&alert("Güncelleme hatası: "+t.message)}else{let{error:t}=await i.supabase.from("food_library").insert([e]);t&&alert("Kaydetme hatası: "+t.message)}y(!1),m(),S()},v=async e=>{if(window.confirm("Bu besini silmek istediğinize emin misiniz?")){let{error:t}=await i.supabase.from("food_library").delete().eq("id",e);t?alert("Silme hatası: "+t.message):m()}},S=()=>{c(!1),x(null),h({name:"",unit:"100g",cal:"",protein:"",carb:"",fat:""})},k=e.filter(e=>e.name&&e.name.toLowerCase().includes(g.toLowerCase()));return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{style:{flex:1,padding:"50px",display:"flex",flexDirection:"column",position:"relative"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:{fontSize:"32px",fontWeight:700,color:"#2c3e50"},children:"Besin Kütüphanesi"}),(0,t.jsx)("p",{style:{color:"#7f8c8d"},children:"Diyet listelerinde kullanacağınız ürünlerin değerlerini buradan yönetin."})]}),(0,t.jsx)("button",{onClick:()=>c(!0),style:{background:"#79a33d",color:"white",border:"none",padding:"12px 25px",borderRadius:"10px",fontWeight:700,cursor:"pointer",boxShadow:"0 10px 20px rgba(121, 163, 61, 0.2)"},children:"+ Yeni Besin Ekle"})]}),(0,t.jsx)("div",{style:{marginBottom:"30px"},children:(0,t.jsx)("input",{type:"text",placeholder:"Besin ismi ile ara...",value:g,onChange:e=>b(e.target.value),style:{width:"100%",padding:"15px 20px",borderRadius:"12px",border:"1px solid #ddd",outline:"none",fontSize:"15px",color:"#333",fontWeight:600}})}),(0,t.jsx)("div",{style:{background:"white",borderRadius:"20px",overflow:"hidden",boxShadow:"0 10px 20px rgba(0,0,0,0.02)"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,t.jsx)("thead",{style:{background:"#fcfdfe"},children:(0,t.jsxs)("tr",{style:{textAlign:"left"},children:[(0,t.jsx)("th",{style:l,children:"Besin Adı"}),(0,t.jsx)("th",{style:l,children:"Birim"}),(0,t.jsx)("th",{style:l,children:"Kalori (kcal)"}),(0,t.jsx)("th",{style:l,children:"Protein (g)"}),(0,t.jsx)("th",{style:l,children:"Karbonhidrat (g)"}),(0,t.jsx)("th",{style:l,children:"Yağ (g)"}),(0,t.jsx)("th",{style:l,children:"İşlemler"})]})}),(0,t.jsxs)("tbody",{children:[k.map(e=>(0,t.jsxs)("tr",{style:{borderBottom:"1px solid #f1f1f1"},children:[(0,t.jsx)("td",{style:a,children:(0,t.jsx)("strong",{children:e.name})}),(0,t.jsx)("td",{style:a,children:e.unit}),(0,t.jsx)("td",{style:a,children:e.cal}),(0,t.jsx)("td",{style:a,children:e.protein}),(0,t.jsx)("td",{style:a,children:e.carb}),(0,t.jsx)("td",{style:a,children:e.fat}),(0,t.jsx)("td",{style:a,children:(0,t.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,t.jsx)("button",{onClick:()=>{h({name:e.name,unit:e.unit,cal:e.cal.toString(),protein:e.protein.toString(),carb:e.carb.toString(),fat:e.fat.toString()}),x(e.id),c(!0)},style:{...s,color:"#3498db"},children:"Düzenle"}),(0,t.jsx)("button",{onClick:()=>v(e.id),style:{...s,color:"#e74c3c"},children:"Sil"})]})})]},e.id)),0===k.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#95a5a6"},children:"Arama kriterlerine uygun besin bulunamadı."})})]})]})}),d&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{background:"white",padding:"40px",borderRadius:"20px",width:"500px",maxWidth:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[(0,t.jsx)("h2",{style:{fontSize:"24px",fontWeight:700,color:"#2c3e50",marginBottom:"25px"},children:p?"Besini Düzenle":"Yeni Besin Ekle"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"30px"},children:[(0,t.jsx)("input",{placeholder:"Besin Adı",value:u.name,onChange:e=>h({...u,name:e.target.value}),style:o}),(0,t.jsx)("input",{placeholder:"Birim (örn: 100g, 1 Porsiyon)",value:u.unit,onChange:e=>h({...u,unit:e.target.value}),style:o}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,t.jsx)("input",{type:"number",placeholder:"Kalori (kcal)",value:u.cal,onChange:e=>h({...u,cal:e.target.value}),style:o}),(0,t.jsx)("input",{type:"number",placeholder:"Protein (g)",value:u.protein,onChange:e=>h({...u,protein:e.target.value}),style:o}),(0,t.jsx)("input",{type:"number",placeholder:"Karbonhidrat (g)",value:u.carb,onChange:e=>h({...u,carb:e.target.value}),style:o}),(0,t.jsx)("input",{type:"number",placeholder:"Yağ (g)",value:u.fat,onChange:e=>h({...u,fat:e.target.value}),style:o})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:S,style:{padding:"12px 20px",background:"#f0f0f0",color:"#666",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"İptal"}),(0,t.jsx)("button",{onClick:j,style:{padding:"12px 25px",background:"#79a33d",color:"white",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"Kaydet"})]})]})})]})})}let l={padding:"20px",color:"#95a5a6",fontSize:"13px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:700},a={padding:"20px",color:"#2c3e50",fontSize:"15px"},s={background:"none",border:"none",cursor:"pointer",fontSize:"15px",fontWeight:700,padding:"5px 10px",borderRadius:"5px",transition:"background 0.3s"},o={width:"100%",padding:"12px 15px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",color:"#333",outline:"none",fontWeight:500};e.s(["default",()=>r])}]);