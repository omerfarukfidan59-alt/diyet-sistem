{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GamerPC/OneDrive/Desktop/diyet-sistem/utils/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\n// Bu instance, sadece anonim veya login olmu≈ü kullanƒ±cƒ±larƒ±n eri≈üebileceƒüi yetkilerle √ßalƒ±≈üƒ±r (Row Level Security - RLS kurallarƒ±na uyar)\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAGC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GamerPC/OneDrive/Desktop/diyet-sistem/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../utils/supabase\";\r\n\r\nexport default function LoginPage() {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleLogin = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        // Sistemsel e-posta d√∂n√º≈ü√ºm√º (Kayƒ±t sƒ±rasƒ±ndaki mantƒ±ƒüƒ±n aynƒ±sƒ±)\r\n        const systemEmail = email.includes(\"@\") ? email : email.toLowerCase().replace(/[^a-z0-9]/g, '') + \"@diyetist.local\";\r\n\r\n        // Admin Giri≈ü Kontrol√º (Geriye D√∂n√ºk Hƒ±zlƒ± Eri≈üim)\r\n        if (email === \"sumeyye\" && password === \"sumeyye1234.!\") {\r\n            const adminUser = { name: \"S√ºmeyye Gencal\", email: \"sumeyye\", role: \"admin\" };\r\n            localStorage.setItem(\"currentUser\", JSON.stringify(adminUser));\r\n            router.push(\"/admin\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Supabase Authentication\r\n            const { data, error } = await supabase.auth.signInWithPassword({\r\n                email: systemEmail,\r\n                password\r\n            });\r\n\r\n            if (error) {\r\n                alert(\"Hatalƒ± ad soyad veya ≈üifre!\");\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            if (data.user) {\r\n                // Profil tablosundan verileri √ßek\r\n                const { data: profile, error: profileErr } = await supabase\r\n                    .from('profiles')\r\n                    .select('*')\r\n                    .eq('id', data.user.id)\r\n                    .single();\r\n\r\n                if (profile) {\r\n                    // Ge√ßi≈ü d√∂nemi i√ßin localStorage'ƒ± beslemeye devam et\r\n                    localStorage.setItem(\"currentUser\", JSON.stringify({\r\n                        id: profile.id,\r\n                        name: profile.full_name,\r\n                        role: profile.role,\r\n                        height: profile.height,\r\n                        weight: profile.weight,\r\n                        age: profile.age,\r\n                        targetWeight: profile.target_weight\r\n                    }));\r\n\r\n                    if (profile.role === 'admin') {\r\n                        router.push(\"/admin\");\r\n                    } else {\r\n                        router.push(\"/dashboard\");\r\n                    }\r\n                } else {\r\n                    alert(\"Kullanƒ±cƒ± profili bulunamadƒ±.\");\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Login error:\", error);\r\n            alert(\"Giri≈ü yapƒ±lƒ±rken bir hata olu≈ütu. L√ºtfen tekrar deneyin.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            minHeight: \"100vh\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"#f9faf5\",\r\n            fontFamily: \"var(--font-body)\",\r\n            padding: \"20px\"\r\n        }}>\r\n            <div style={{\r\n                width: \"100%\",\r\n                maxWidth: \"450px\",\r\n                background: \"white\",\r\n                borderRadius: \"15px\",\r\n                padding: \"40px\",\r\n                boxShadow: \"0 20px 60px rgba(0,0,0,0.05)\"\r\n            }}>\r\n                {/* Logo/Title Section */}\r\n                <div style={{ textAlign: \"center\", marginBottom: \"40px\" }}>\r\n                    <Link href=\"/\" style={{ textDecoration: \"none\" }}>\r\n                        <div style={{ color: \"#79a33d\", fontSize: \"40px\", marginBottom: \"10px\" }}>üçÉ</div>\r\n                        <h1 style={{\r\n                            fontFamily: \"var(--font-heading)\",\r\n                            fontSize: \"24px\",\r\n                            fontWeight: 800,\r\n                            color: \"#3d5a2d\",\r\n                            textTransform: \"uppercase\",\r\n                            letterSpacing: \"1px\",\r\n                            margin: 0\r\n                        }}>\r\n                            S√ºmeyye Gencal\r\n                        </h1>\r\n                    </Link>\r\n                    <p style={{ color: \"#888\", fontSize: \"14px\", marginTop: \"10px\" }}>Saƒülƒ±klƒ± ya≈üam yolculuƒüuna devam et</p>\r\n                </div>\r\n\r\n                {/* Login Form */}\r\n                <form onSubmit={handleLogin} style={{ display: \"flex\", flexDirection: \"column\", gap: \"20px\" }}>\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                        <label style={{ fontSize: \"14px\", fontWeight: 600, color: \"#555\" }}>Ad Soyad</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            required\r\n                            placeholder=\"Adƒ±nƒ±z Soyadƒ±nƒ±z\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                            style={{\r\n                                padding: \"12px 15px\",\r\n                                borderRadius: \"8px\",\r\n                                border: \"1px solid #eee\",\r\n                                outline: \"none\",\r\n                                transition: \"border-color 0.3s\",\r\n                                fontSize: \"15px\",\r\n                                color: \"#333\",\r\n                                fontWeight: 600\r\n                            }}\r\n                            onFocus={(e) => e.target.style.borderColor = \"#79a33d\"}\r\n                            onBlur={(e) => e.target.style.borderColor = \"#eee\"}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                        <label style={{ fontSize: \"14px\", fontWeight: 600, color: \"#555\" }}>≈ûifre</label>\r\n                        <input\r\n                            type=\"password\"\r\n                            required\r\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            style={{\r\n                                padding: \"12px 15px\",\r\n                                borderRadius: \"8px\",\r\n                                border: \"1px solid #eee\",\r\n                                outline: \"none\",\r\n                                transition: \"border-color 0.3s\",\r\n                                fontSize: \"15px\",\r\n                                color: \"#333\",\r\n                                fontWeight: 600\r\n                            }}\r\n                            onFocus={(e) => e.target.style.borderColor = \"#79a33d\"}\r\n                            onBlur={(e) => e.target.style.borderColor = \"#eee\"}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\r\n                        <a href=\"#\" style={{ fontSize: \"13px\", color: \"#79a33d\", textDecoration: \"none\" }}>≈ûifremi Unuttum</a>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        style={{\r\n                            background: \"#79a33d\",\r\n                            color: \"white\",\r\n                            padding: \"14px\",\r\n                            borderRadius: \"8px\",\r\n                            border: \"none\",\r\n                            fontSize: \"16px\",\r\n                            fontWeight: 700,\r\n                            cursor: \"pointer\",\r\n                            transition: \"all 0.3s ease\",\r\n                            marginTop: \"10px\"\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                            e.currentTarget.style.background = \"#3d5a2d\";\r\n                            e.currentTarget.style.transform = \"translateY(-2px)\";\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                            e.currentTarget.style.background = \"#79a33d\";\r\n                            e.currentTarget.style.transform = \"translateY(0)\";\r\n                        }}\r\n                    >\r\n                        Giri≈ü Yap\r\n                    </button>\r\n                </form>\r\n\r\n                <div style={{ textAlign: \"center\", marginTop: \"30px\", fontSize: \"14px\", color: \"#888\" }}>\r\n                    Hen√ºz bir hesabƒ±n yok mu?{\" \"}\r\n                    <Link href=\"/register\" style={{ color: \"#79a33d\", fontWeight: 700, textDecoration: \"none\" }}>\r\n                        Hemen Kayƒ±t Ol\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}