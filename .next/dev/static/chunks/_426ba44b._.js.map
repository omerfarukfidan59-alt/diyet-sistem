{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GamerPC/OneDrive/Desktop/diyet-sistem/utils/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\n// Bu instance, sadece anonim veya login olmu≈ü kullanƒ±cƒ±larƒ±n eri≈üebileceƒüi yetkilerle √ßalƒ±≈üƒ±r (Row Level Security - RLS kurallarƒ±na uyar)\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAGC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GamerPC/OneDrive/Desktop/diyet-sistem/app/register/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"../../utils/supabase\";\r\n\r\nexport default function RegisterPage() {\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        height: \"\",\r\n        weight: \"\",\r\n        age: \"\",\r\n        gender: \"Erkek\", // Varsayƒ±lan deƒüer\r\n        targetWeight: \"\"\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n    const router = useRouter();\r\n\r\n    const handleRegister = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        // 1. Supabase Auth i√ßin Ad Soyad'dan benzersiz bir e-posta √ºretelim\r\n        const systemEmail = formData.name.toLowerCase().replace(/[^a-z0-9]/g, '') + \"@diyetist.local\";\r\n\r\n        // 1. Supabase Auth (Kayƒ±t)\r\n        const { data: authData, error: authError } = await supabase.auth.signUp({\r\n            email: systemEmail,\r\n            password: formData.password\r\n        });\r\n\r\n        if (authError) {\r\n            alert(\"Kayƒ±t hatasƒ±: \" + authError.message);\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        if (authData.user) {\r\n            // 2. Profil tablosuna fiziksel verileri ekle\r\n            const { error: profileError } = await supabase.from('profiles').insert([\r\n                {\r\n                    id: authData.user.id,\r\n                    role: \"client\",\r\n                    full_name: formData.name,\r\n                    height: Number(formData.height),\r\n                    weight: Number(formData.weight),\r\n                    age: Number(formData.age),\r\n                    gender: formData.gender,\r\n                    target_weight: Number(formData.targetWeight)\r\n                }\r\n            ]);\r\n\r\n            if (profileError) {\r\n                alert(\"Profil verisi kaydedilemedi: \" + profileError.message);\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // Geriye d√∂n√ºk uyumluluk (Ge√ßici olarak localStorage'da da tutalƒ±m)\r\n            const newUser = {\r\n                id: authData.user.id,\r\n                name: formData.name,\r\n                email: systemEmail,\r\n                role: \"client\",\r\n                height: formData.height,\r\n                weight: formData.weight,\r\n                age: formData.age,\r\n                gender: formData.gender,\r\n                targetWeight: formData.targetWeight\r\n            };\r\n\r\n            const existingUsers = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\r\n            existingUsers.push(newUser);\r\n            localStorage.setItem(\"users\", JSON.stringify(existingUsers));\r\n            localStorage.setItem(\"currentUser\", JSON.stringify(newUser));\r\n\r\n            router.push(\"/dashboard\");\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    return (\r\n        <div style={{\r\n            minHeight: \"100vh\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            background: \"#f9faf5\",\r\n            fontFamily: \"var(--font-body)\",\r\n            padding: \"40px 20px\"\r\n        }}>\r\n            <div style={{\r\n                width: \"100%\",\r\n                maxWidth: \"600px\",\r\n                background: \"white\",\r\n                borderRadius: \"15px\",\r\n                padding: \"40px\",\r\n                boxShadow: \"0 20px 60px rgba(0,0,0,0.05)\"\r\n            }}>\r\n                {/* Header */}\r\n                <div style={{ textAlign: \"center\", marginBottom: \"35px\" }}>\r\n                    <Link href=\"/\" style={{ textDecoration: \"none\" }}>\r\n                        <div style={{ color: \"#79a33d\", fontSize: \"35px\", marginBottom: \"8px\" }}>üçÉ</div>\r\n                        <h1 style={{\r\n                            fontFamily: \"var(--font-heading)\",\r\n                            fontSize: \"22px\",\r\n                            fontWeight: 800,\r\n                            color: \"#3d5a2d\",\r\n                            textTransform: \"uppercase\",\r\n                            letterSpacing: \"1px\",\r\n                            margin: 0\r\n                        }}>\r\n                            S√ºmeyye Gencal\r\n                        </h1>\r\n                    </Link>\r\n                    <h2 style={{ fontSize: \"20px\", color: \"#333\", marginTop: \"15px\", fontWeight: 700 }}>Saƒülƒ±klƒ± Ya≈üama ƒ∞lk Adƒ±mƒ± At</h2>\r\n                    <p style={{ color: \"#888\", fontSize: \"14px\", marginTop: \"5px\" }}>Analiz i√ßin v√ºcut verilerini doldurman yeterli</p>\r\n                </div>\r\n\r\n                <form onSubmit={handleRegister} style={{ display: \"flex\", flexDirection: \"column\", gap: \"25px\" }}>\r\n\r\n                    {/* Ki≈üisel Bilgiler */}\r\n                    <div style={{ display: \"grid\", gridTemplateColumns: \"1fr\", gap: \"20px\" }} className=\"form-grid\">\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Ad Soyad</label>\r\n                            <input type=\"text\" name=\"name\" required placeholder=\"Adƒ±nƒ±z Soyadƒ±nƒ±z\" onChange={handleChange} style={inputStyle} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                        <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>≈ûifre</label>\r\n                        <input type=\"password\" name=\"password\" required placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\" onChange={handleChange} style={inputStyle} />\r\n                    </div>\r\n\r\n                    {/* Fiziksel Veriler */}\r\n                    <div style={{\r\n                        background: \"#fcfdfe\",\r\n                        padding: \"20px\",\r\n                        borderRadius: \"10px\",\r\n                        border: \"1px dashed #79a33d\",\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"1fr 1fr\",\r\n                        gap: \"20px\"\r\n                    }} className=\"form-grid\">\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Boy (cm)</label>\r\n                            <input type=\"number\" name=\"height\" required placeholder=\"√ñrn: 175\" onChange={handleChange} style={inputStyle} />\r\n                        </div>\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Kilo (kg)</label>\r\n                            <input type=\"number\" name=\"weight\" required placeholder=\"√ñrn: 70\" onChange={handleChange} style={inputStyle} />\r\n                        </div>\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Ya≈ü</label>\r\n                            <input type=\"number\" name=\"age\" required placeholder=\"√ñrn: 25\" onChange={handleChange} style={inputStyle} />\r\n                        </div>\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Cinsiyet</label>\r\n                            <select name=\"gender\" value={formData.gender} onChange={handleChange as any} style={inputStyle}>\r\n                                <option value=\"Erkek\">Erkek</option>\r\n                                <option value=\"Kadƒ±n\">Kadƒ±n</option>\r\n                            </select>\r\n                        </div>\r\n                        <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\r\n                            <label style={{ fontSize: \"13px\", fontWeight: 700, color: \"#555\" }}>Hedef Kilo (kg)</label>\r\n                            <input type=\"number\" name=\"targetWeight\" required placeholder=\"√ñrn: 65\" onChange={handleChange} style={inputStyle} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        style={{\r\n                            background: \"#79a33d\",\r\n                            color: \"white\",\r\n                            padding: \"15px\",\r\n                            borderRadius: \"8px\",\r\n                            border: \"none\",\r\n                            fontSize: \"16px\",\r\n                            fontWeight: 700,\r\n                            cursor: \"pointer\",\r\n                            transition: \"all 0.3s ease\",\r\n                        }}\r\n                        onMouseEnter={(e) => {\r\n                            e.currentTarget.style.background = \"#3d5a2d\";\r\n                            e.currentTarget.style.transform = \"translateY(-2px)\";\r\n                        }}\r\n                        onMouseLeave={(e) => {\r\n                            e.currentTarget.style.background = \"#79a33d\";\r\n                            e.currentTarget.style.transform = \"translateY(0)\";\r\n                        }}\r\n                    >\r\n                        Hesap Olu≈ütur ve Ba≈üla\r\n                    </button>\r\n                </form>\r\n\r\n                <div style={{ textAlign: \"center\", marginTop: \"30px\", fontSize: \"14px\", color: \"#888\" }}>\r\n                    Zaten bir hesabƒ±n var mƒ±?{\" \"}\r\n                    <Link href=\"/login\" style={{ color: \"#79a33d\", fontWeight: 700, textDecoration: \"none\" }}>\r\n                        Giri≈ü Yap\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <style>{`\r\n        @media (max-width: 640px) {\r\n          .form-grid { grid-template-columns: 1fr !important; }\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst inputStyle = {\r\n    padding: \"12px 15px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #eee\",\r\n    outline: \"none\",\r\n    transition: \"border-color 0.3s\",\r\n    fontSize: \"14px\",\r\n    color: \"#333\",\r\n    fontWeight: 600\r\n};\r\n"],"names":[],"mappings":"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"}}]
}