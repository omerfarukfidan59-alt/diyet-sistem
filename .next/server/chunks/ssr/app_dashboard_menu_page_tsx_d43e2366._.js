module.exports=[18485,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(64193);function g(){let[a,g]=(0,d.useState)(null),[h,i]=(0,d.useState)(null),[j,k]=(0,d.useState)(0),[l,m]=(0,d.useState)({}),[n,o]=(0,d.useState)(!0),p=(0,e.useRouter)();(0,d.useEffect)(()=>{!async function(){o(!0);let{data:{user:a}}=await f.supabase.auth.getUser();if(!a)return p.push("/login");let{data:b}=await f.supabase.from("profiles").select("*").eq("id",a.id).single();b&&g(b);let{data:c}=await f.supabase.from("diets").select("*").eq("client_id",a.id).eq("is_active",!0).maybeSingle();c&&c.content&&i(c.content);let{data:d}=await f.supabase.from("diet_progress").select("*").eq("client_id",a.id);if(d){let a={};d.forEach(b=>{a[b.day_number-1]={completed:b.is_completed,note:b.note}}),m(a)}o(!1)}()},[p]);let q=async()=>{let b;if(!a)return;o(!0);let c=l[j]||{completed:!1,note:""},{data:d}=await f.supabase.from("diet_progress").select("id").eq("client_id",a.id).eq("day_number",j+1).maybeSingle();if(d){let{error:a}=await f.supabase.from("diet_progress").update({is_completed:c.completed,note:c.note}).eq("id",d.id);b=a}else{let{error:d}=await f.supabase.from("diet_progress").insert({client_id:a.id,day_number:j+1,is_completed:c.completed,note:c.note});b=d}b?alert("Değerlendirme gönderilemedi: "+b.message):alert("Değerlendirmeniz başarıyla kaydedildi! Diyetisyeniniz bunu görebilecektir."),o(!1)};return n||!a?(0,b.jsx)("div",{children:"Yükleniyor..."}):(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},className:"jsx-8fc83bef832defc8 menu-page-wrapper",children:[(0,b.jsx)(c.default,{id:"8fc83bef832defc8",children:".menu-page-wrapper.jsx-8fc83bef832defc8{padding:50px}@media (width<=1024px){.menu-page-wrapper.jsx-8fc83bef832defc8{padding:20px}}"}),(0,b.jsxs)("div",{style:{marginBottom:"40px"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("h1",{style:{fontSize:"32px",fontWeight:700,color:"#333"},className:"jsx-8fc83bef832defc8",children:"Günlük Diyet Listem"}),(0,b.jsx)("p",{style:{color:"#666"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeniniz tarafından size özel hazırlanan beslenme programı."})]}),h&&h.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"25px",overflowX:"auto",paddingBottom:"10px"},className:"jsx-8fc83bef832defc8",children:h.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>k(c),style:{padding:"12px 25px",background:j===c?"#79a33d":"white",color:j===c?"white":"#333",border:`1px solid ${j===c?"#79a33d":"#e0e0e0"}`,borderRadius:"10px",fontWeight:700,cursor:"pointer",transition:"all 0.2s"},className:"jsx-8fc83bef832defc8",children:[a.day||c+1,". Gün"]},c))}),(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"25px"},className:"jsx-8fc83bef832defc8",children:[{key:"breakfast",label:"Kahvaltı"},{key:"lunch",label:"Öğle Yemeği"},{key:"snacks",label:"Ara Öğünler"},{key:"dinner",label:"Akşam Yemeği"}].map(a=>(0,b.jsxs)("div",{style:{background:"white",padding:"25px",borderRadius:"15px",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("h3",{style:{fontSize:"18px",fontWeight:700,color:"#3d5a2d",marginBottom:"15px"},className:"jsx-8fc83bef832defc8",children:a.label}),h[j]&&h[j][a.key]&&h[j][a.key].length>0?(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("thead",{className:"jsx-8fc83bef832defc8",children:(0,b.jsxs)("tr",{style:{textAlign:"left",fontSize:"12px",color:"#888",borderBottom:"1px solid #f0f0f0"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("th",{style:{padding:"10px"},className:"jsx-8fc83bef832defc8",children:"Besin"}),(0,b.jsx)("th",{style:{padding:"10px"},className:"jsx-8fc83bef832defc8",children:"Porsiyon"}),(0,b.jsx)("th",{style:{padding:"10px",textAlign:"right"},className:"jsx-8fc83bef832defc8",children:"Kalori"})]})}),(0,b.jsx)("tbody",{className:"jsx-8fc83bef832defc8",children:h[j][a.key].map((a,c)=>(0,b.jsxs)("tr",{style:{borderBottom:"1px solid #f9f9f9"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("td",{style:{padding:"12px 10px",fontWeight:600,color:"#333"},className:"jsx-8fc83bef832defc8",children:a.food}),(0,b.jsx)("td",{style:{padding:"12px 10px",color:"#666"},className:"jsx-8fc83bef832defc8",children:a.portion}),(0,b.jsxs)("td",{style:{padding:"12px 10px",color:"#79a33d",fontWeight:700,textAlign:"right"},className:"jsx-8fc83bef832defc8",children:[a.cal," kcal"]})]},c))})]}):(0,b.jsx)("p",{style:{color:"#999",fontSize:"14px"},className:"jsx-8fc83bef832defc8",children:"Bu öğün için program belirtilmemiş."})]},a.key))}),(0,b.jsxs)("div",{style:{marginTop:"40px",background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("h3",{style:{fontSize:"20px",fontWeight:800,color:"#2c3e50",marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:"Gün Sonu Değerlendirmesi"}),(0,b.jsx)("p",{style:{color:"#7f8c8d",fontSize:"14px",marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeninize bu günü nasıl geçirdiğinizi bildirin."}),(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("input",{type:"checkbox",id:"completedCheck",checked:l[j]?.completed||!1,onChange:a=>{let b={...l};b[j]||(b[j]={completed:!1,note:""}),b[j].completed=a.target.checked,m(b)},style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#79a33d"},className:"jsx-8fc83bef832defc8"}),(0,b.jsx)("label",{htmlFor:"completedCheck",style:{fontWeight:600,color:"#333",cursor:"pointer",fontSize:"15px"},className:"jsx-8fc83bef832defc8",children:"Bugünkü listemi eksiksiz uyguladım ✅"})]}),(0,b.jsxs)("div",{style:{marginBottom:"20px"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("label",{style:{display:"block",fontWeight:600,color:"#333",marginBottom:"10px",fontSize:"15px"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeninize bir not bırakın (İsteğe bağlı)"}),(0,b.jsx)("textarea",{value:l[j]?.note||"",onChange:a=>{let b={...l};b[j]||(b[j]={completed:!1,note:""}),b[j].note=a.target.value,m(b)},placeholder:"Örn: Akşam yemeğinde doyduğum için salatayı yarım bıraktım...",style:{width:"100%",padding:"15px",borderRadius:"10px",border:"1px solid #ddd",minHeight:"100px",fontFamily:"inherit",fontSize:"14px",resize:"vertical"},className:"jsx-8fc83bef832defc8"})]}),(0,b.jsx)("button",{onClick:q,style:{background:"#79a33d",color:"white",border:"none",padding:"15px 30px",borderRadius:"10px",fontWeight:700,fontSize:"15px",cursor:"pointer",width:"100%",transition:"background 0.3s"},className:"jsx-8fc83bef832defc8",children:"Değerlendirmeyi Kaydet"})]})]}):(0,b.jsxs)("div",{style:{background:"white",padding:"100px",borderRadius:"20px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.03)"},className:"jsx-8fc83bef832defc8",children:[(0,b.jsx)("div",{style:{fontSize:"50px",marginBottom:"20px"},className:"jsx-8fc83bef832defc8"}),(0,b.jsx)("h2",{style:{color:"#3d5a2d"},className:"jsx-8fc83bef832defc8",children:"Henüz Diyet Listeniz Hazır Değil"}),(0,b.jsx)("p",{style:{color:"#888",maxWidth:"400px",margin:"10px auto"},className:"jsx-8fc83bef832defc8",children:"Diyetisyeniniz listenizi tamamladığında burada anlık olarak görebileceksiniz."})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_dashboard_menu_page_tsx_d43e2366._.js.map