module.exports=[86069,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(64193);function e(){let[a,e]=(0,c.useState)([]),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)({name:"",unit:"100g",cal:"",protein:"",carb:"",fat:""}),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{t()},[]);let t=async()=>{let{data:a,error:b}=await d.supabase.from("food_library").select("*").order("name",{ascending:!0});b?console.error("Besinler çekilemedi:",b):e(a||[])},u=async()=>{if(!n.name)return alert("Lütfen besin adı girin.");s(!0);let a={name:n.name,unit:n.unit,cal:Number(n.cal),protein:Number(n.protein),carb:Number(n.carb),fat:Number(n.fat)};if(l){let{error:b}=await d.supabase.from("food_library").update(a).eq("id",l);b&&alert("Güncelleme hatası: "+b.message)}else{let{error:b}=await d.supabase.from("food_library").insert([a]);b&&alert("Kaydetme hatası: "+b.message)}s(!1),t(),w()},v=async a=>{if(window.confirm("Bu besini silmek istediğinize emin misiniz?")){let{error:b}=await d.supabase.from("food_library").delete().eq("id",a);b?alert("Silme hatası: "+b.message):t()}},w=()=>{k(!1),m(null),o({name:"",unit:"100g",cal:"",protein:"",carb:"",fat:""})},x=a.filter(a=>a.name&&a.name.toLowerCase().includes(p.toLowerCase()));return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{style:{flex:1,padding:"50px",display:"flex",flexDirection:"column",position:"relative"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{style:{fontSize:"32px",fontWeight:700,color:"#2c3e50"},children:"Besin Kütüphanesi"}),(0,b.jsx)("p",{style:{color:"#7f8c8d"},children:"Diyet listelerinde kullanacağınız ürünlerin değerlerini buradan yönetin."})]}),(0,b.jsx)("button",{onClick:()=>k(!0),style:{background:"#79a33d",color:"white",border:"none",padding:"12px 25px",borderRadius:"10px",fontWeight:700,cursor:"pointer",boxShadow:"0 10px 20px rgba(121, 163, 61, 0.2)"},children:"+ Yeni Besin Ekle"})]}),(0,b.jsx)("div",{style:{marginBottom:"30px"},children:(0,b.jsx)("input",{type:"text",placeholder:"Besin ismi ile ara...",value:p,onChange:a=>q(a.target.value),style:{width:"100%",padding:"15px 20px",borderRadius:"12px",border:"1px solid #ddd",outline:"none",fontSize:"15px",color:"#333",fontWeight:600}})}),(0,b.jsx)("div",{style:{background:"white",borderRadius:"20px",overflowX:"auto",boxShadow:"0 10px 20px rgba(0,0,0,0.02)"},children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,b.jsx)("thead",{style:{background:"#fcfdfe"},children:(0,b.jsxs)("tr",{style:{textAlign:"left"},children:[(0,b.jsx)("th",{style:f,children:"Besin Adı"}),(0,b.jsx)("th",{style:f,children:"Birim"}),(0,b.jsx)("th",{style:f,children:"Kalori (kcal)"}),(0,b.jsx)("th",{style:f,children:"Protein (g)"}),(0,b.jsx)("th",{style:f,children:"Karbonhidrat (g)"}),(0,b.jsx)("th",{style:f,children:"Yağ (g)"}),(0,b.jsx)("th",{style:f,children:"İşlemler"})]})}),(0,b.jsxs)("tbody",{children:[x.map(a=>(0,b.jsxs)("tr",{style:{borderBottom:"1px solid #f1f1f1"},children:[(0,b.jsx)("td",{style:g,children:(0,b.jsx)("strong",{children:a.name})}),(0,b.jsx)("td",{style:g,children:a.unit}),(0,b.jsx)("td",{style:g,children:a.cal}),(0,b.jsx)("td",{style:g,children:a.protein}),(0,b.jsx)("td",{style:g,children:a.carb}),(0,b.jsx)("td",{style:g,children:a.fat}),(0,b.jsx)("td",{style:g,children:(0,b.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,b.jsx)("button",{onClick:()=>{o({name:a.name,unit:a.unit,cal:a.cal.toString(),protein:a.protein.toString(),carb:a.carb.toString(),fat:a.fat.toString()}),m(a.id),k(!0)},style:{...h,color:"#3498db"},children:"Düzenle"}),(0,b.jsx)("button",{onClick:()=>v(a.id),style:{...h,color:"#e74c3c"},children:"Sil"})]})})]},a.id)),0===x.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#95a5a6"},children:"Arama kriterlerine uygun besin bulunamadı."})})]})]})}),j&&(0,b.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,b.jsxs)("div",{style:{background:"white",padding:"40px",borderRadius:"20px",width:"500px",maxWidth:"90%",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:[(0,b.jsx)("h2",{style:{fontSize:"24px",fontWeight:700,color:"#2c3e50",marginBottom:"25px"},children:l?"Besini Düzenle":"Yeni Besin Ekle"}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginBottom:"30px"},children:[(0,b.jsx)("input",{placeholder:"Besin Adı",value:n.name,onChange:a=>o({...n,name:a.target.value}),style:i}),(0,b.jsx)("input",{placeholder:"Birim (örn: 100g, 1 Porsiyon)",value:n.unit,onChange:a=>o({...n,unit:a.target.value}),style:i}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[(0,b.jsx)("input",{type:"number",placeholder:"Kalori (kcal)",value:n.cal,onChange:a=>o({...n,cal:a.target.value}),style:i}),(0,b.jsx)("input",{type:"number",placeholder:"Protein (g)",value:n.protein,onChange:a=>o({...n,protein:a.target.value}),style:i}),(0,b.jsx)("input",{type:"number",placeholder:"Karbonhidrat (g)",value:n.carb,onChange:a=>o({...n,carb:a.target.value}),style:i}),(0,b.jsx)("input",{type:"number",placeholder:"Yağ (g)",value:n.fat,onChange:a=>o({...n,fat:a.target.value}),style:i})]})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"flex-end"},children:[(0,b.jsx)("button",{onClick:w,style:{padding:"12px 20px",background:"#f0f0f0",color:"#666",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"İptal"}),(0,b.jsx)("button",{onClick:u,style:{padding:"12px 25px",background:"#79a33d",color:"white",border:"none",borderRadius:"10px",fontWeight:600,cursor:"pointer"},children:"Kaydet"})]})]})})]})})}let f={padding:"20px",color:"#95a5a6",fontSize:"13px",textTransform:"uppercase",letterSpacing:"1px",fontWeight:700},g={padding:"20px",color:"#2c3e50",fontSize:"15px"},h={background:"none",border:"none",cursor:"pointer",fontSize:"15px",fontWeight:700,padding:"5px 10px",borderRadius:"5px",transition:"background 0.3s"},i={width:"100%",padding:"12px 15px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"14px",color:"#333",outline:"none",fontWeight:500};a.s(["default",()=>e])}];

//# sourceMappingURL=app_admin_food_page_tsx_2173c2be._.js.map